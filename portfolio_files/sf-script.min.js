$(document).ready(function(){$(".sf-details").on("click",function(f){var b=$(this).attr("id").split("_");b=b[1];var c=$(this).attr("data-target");$(".sf-details").css({background:"#e5e5e5 none repeat scroll 0 0",color:"#000"});$(this).css({background:"#418405 none repeat scroll 0 0",color:"#fff"});$("#loadingmessage").addClass("img");var a=$("#freegiftId_"+b).val();var g=$(document).scrollTop();$("div.overlayLoading").css({display:"block",top:$(document).scrollTop()});var d={action:"sf_get_product_details",productId:b};jQuery.post(ajaxurl,d,function(e){$(".sf-hidden-print").html(e);$("div.overlayLoading").css("display","none");$("#product_id").val(b);$(".sf-hidden-top").slideToggle("slow");$("html, body").animate({scrollTop:$(".sf-hidden-top").offset().top},2000);$(".markerArrow").addClass(c);var h=null;$("#freegiftIdLineItem").val(h)})});$(".selector").removeAttr("selected");$("body").on("click",".productAttr",function(){var c=$(this).val();var g=$(this).attr("data").split("@");var e=g[0];if(e!=""){$("#planimage").attr("src",e)}else{$("#planimage").attr("src","images/noimage.png")}$("#plantext").html(g[2]+g[1]);var a=$("#freegiftIdLineItem").val();if(a!=0){var f=$(this).attr("alt").split("@");var b=(f[1]=="")?"Free":f[1];var d=f[0];if(d==""){$("#yourfreegiftimage").attr("src",templateUrl+"../images/noimage.png")}else{$("#yourfreegiftimage").attr("src",d)}}else{$("#product_freegift").html("")}$(".sf-hidden-btn").slideDown("slow");$("html, body").animate({scrollTop:$(".sf-hidden-btn").offset().top},2000);$("#variationDetails").val($(this).attr("id"))});$("body").on("click",".sf-changeplan",function(){$("html, body").animate({scrollTop:500},"slow")});$(".sf-freegift").hover(function(f){var h=$(window).height();var d=$(window).width();var a=(d/2);var g=f.pageX;var c="sf-left";if(g>a){c="sf-right"}var b=$(this).attr("id").split("-");b=b[1];if($("#freeProductDetails-"+b).is(":visible")){$("#freeProductDetails-"+b).hide();$("#freeProductDetails-"+b).removeClass(c)}else{$("#freeProductDetails-"+b).addClass(c);$("#freeProductDetails-"+b).show()}});$(".sf-freegift-Mobile").click(function(a){$(this).parent(".sf-gift-wrap-mobile").toggleClass("active")});$("body").on("click",".subscribe",function(g){$.validator.addMethod("valueNotEquals",function(l,k,e){return e!=l},"Value must not equal arg.");var j=$("#signupForm");j.validate({rules:{firstname:"required",lastname:"required",username:{required:true,minlength:2},phone:{required:true,number:true,minlength:10,maxlength:10},password:{required:true,minlength:5},confirm_password:{required:true,minlength:5,equalTo:"#password"},email:{required:true,email:true},address:{required:true,minlength:5},state:{valueNotEquals:" "},city:"required",pincode:{required:true,number:true},agree:"required",agreement_1:"required"},messages:{firstname:"Please enter your firstname",lastname:"Please enter your lastname",username:{required:"Please enter a username",minlength:"Your username must consist of at least 2 characters"},phone:{required:"Please provide a phone Number"},address:{required:"Please provide an address"},state:{valueNotEquals:"Please select an item!"},city:{required:"Please enter city"},pincode:{required:"Please enter pincode"},email:"Please enter a valid email address",agree:"Please accept our policy",agreement_1:"Please accept our correspondence"},errorPlacement:function(e,k){if(k.attr("type")=="checkbox"){e.insertAfter($(k).parent().parent())}else{$(e).insertAfter(k)}}});if(j.valid()){var b=$(".paymentOpt:checked").val();if(b==null){$("#subscribe").attr("disabled");$(".payoption").append('<span id="payment-selector-error" class="error" for="payment-selector-error">Please select your payment method</span>');return false}var i=$("#product_type").val();var d={action:"sf_create_order",firstname:$("#firstname").val(),lastname:$("#lastname").val(),email:$("#email").val(),phone:$("#phone").val(),companyname:$("#companyname").val(),address:$("#address").val(),state:$("#state").val(),city:$("#city").val(),pincode:$("#pincode").val(),country:$("#country").val(),product_id:$("#product_id").val(),product_type:i,paymentOpt:$(".paymentOpt:checked").val(),freegiftIdLineItem:$("#freegiftIdLineItem").val(),productRef:$("#productRef").val()};switch(i){case"simple":d=d;break;case"variable":var a=$("#variationDetails").val();var f=$("#"+a).attr("name");var c=$("#"+a).val();var h=a.split("-");h=h[1];d.variationName=f;d.variationValue=c;d.variationId=h;break;case"subscription":d=d;break;case"variable-subscription":var a=$("#variationDetails").val();var f=$("#"+a).attr("name");var c=$("#"+a).val();var h=a.split("-");h=h[1];d.variationName=f;d.variationValue=c;d.variationId=h;break;case"bundle":var a=$("#variationDetails").val();var f=$("#"+a).attr("name");var c=$("#"+a).val();var h=a.split("-");h=h[1];d.variationName=f;d.variationValue=c;d.variationId=h;break;case"shop_cart":d.cart_product_id=$("input[name='cart_product[]']").map(function(){return $(this).val()}).get();d.cart_qty=$("input[name='cart_qty[]']").map(function(){return $(this).val()}).get();d.order_subscription_details=[];break;default:d=d}$(".sf-details").attr("disabled");$("div.overlayLoading").css("display","block");$(".sf-hidden-print").html("<span>Processing...</span>");$.post(ajaxurl,d,function(e){$(".sf-hidden-print").html(e+"<span>Do not reload as page will redirect to process this payment.</span>");$("#submit_payment_form").submit()}).fail(function(){$("div.overlayLoading").css("display","none");$(".sf-details").removeAttr("disabled");$(".sf-hidden-print").html('<span class="error">Some error exists. Please try again.</span>')})}});$("body").on("click",".paymentoption",function(a){$("#creditCardDiv").show()});$("body").on("change",".paymentOpt",function(a){$("#payment-selector-error").remove();$("#subscribe").removeAttr("disabled")});jQuery("#checkoutDetails").on("click",function(){var a={action:"sf_get_checkout_details"};jQuery.post(ajaxurl,a,function(b){jQuery("#checkoutfields").html(b);jQuery(".sf-sidepanel").hide();jQuery(".sf-hidden-btn").show();jQuery("#subscribe").val("Pay Now")})})});jQuery("#emptyCart").on("click",function(){var a={action:"sf_empty_cart"};$.post(ajaxurl,a,function(b){location.reload(true)})});jQuery("#updateCart").on("click",function(){var a={action:"sf_update_cart",cart_product_id:jQuery("input[name='cart_product[]']").map(function(){return $(this).val()}).get(),cart_qty:jQuery("input[name='cart_qty[]']").map(function(){return $(this).val()}).get()};$.post(ajaxurl,a,function(b){location.reload(true)})});jQuery(".sf-addToCart").on("click",function(c){var a=$(this).attr("id").split("_");a=a[1];variation=0;var b={action:"sf_addtocart",productId:a,variation:variation};$.post(ajaxurl,b,function(d){$(".sf-hidden-print").html('<span>Product added to cart. <a href="../cart">View Cart</a></span>');$("#submit_payment_form").submit()}).fail(function(){})});jQuery(".sf-RemoveItem").on("click",function(c){var a=$(this).attr("data-product_id");var b={action:"sf_RemoveItem",productId:a};$.post(ajaxurl,b,function(d){location.reload(true)}).fail(function(){})});